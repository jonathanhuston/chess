procedure getcomputermove (board, pieces, flags, color);	local piece, moves, origin, dest;	moves := set ();		until *moves > 0 do {		piece := ? pieces;		origin := ? piece [color];		if /origin then next;		generatemoves (board, pieces, flags, color, origin, moves, king);	};	dest := ? moves;	movepiece (board, pieces, flags, color, origin, dest);	copysquare (origin, flags.origin);	copysquare (dest, flags.dest);end